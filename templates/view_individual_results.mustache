<div class="learning-style-individual-container">
    <div class="header-card">
        <div class="d-flex align-items-center mb-3">
            <div>
                <h2 class="mb-1" style="color: white;">{{fullname}}</h2>
                <p class="mb-0" style="color: rgba(255,255,255,0.9); font-size: 1.1rem;">
                    <i class="fa fa-calendar mr-2"></i>{{#str}} completed_on, block_learning_style {{/str}}: {{completion_date}}
                </p>
            </div>
        </div>
        <div class="d-flex gap-3 mt-3">
            <span class="badge bg-white" style="font-size: 1rem; padding: 0.5rem 1rem;">
                <i class="fa fa-check-circle mr-1" style="background: linear-gradient(135deg, #1567f9 0%, #0054ce 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i>
                <span style="background: linear-gradient(135deg, #1567f9 0%, #0054ce 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">{{#str}} test_completed, block_learning_style {{/str}}</span>
            </span>
        </div>
    </div>

    <h4 class="mb-4 mt-5"><i class="fa fa-chart-bar me-2"></i>{{#str}} learning_dimensions, block_learning_style {{/str}}</h4>
    
    <div class="row g-4">
        {{#dimensions}}
        <div class="col-lg-6 mt-5">
            <div class="dimension-card card">
                <div class="card-header" style="background: linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 100%) !important; color: #0054ce;">
                    <h5 class="mb-0" style="font-size: 1.1rem;"><i class="fa fa-brain"></i>{{name}}</h5>
                </div>
                <div class="card-body p-4">
                    
                    <div class="mb-4">
                        <div class="fw-bold mb-2" style="font-size: 0.95rem; color: #495057;">{{active_label}}</div>
                        <div class="progress-wrapper" data-percentage="{{active_percentage}}">
                            <span class="{{progress_label_class_active}}" style="--bar-width: {{active_percentage}}%;">{{active_count}} ({{active_percentage}}%)</span>
                            <div class="progress-bar-modern" style="width: {{active_percentage}}%; background-color: {{color_active}}; position: absolute; left: 0; top: 0; height: 100%; border-radius: 8px;"></div>
                        </div>

                        <div class="fw-bold mb-2" style="font-size: 0.95rem; color: #495057;">{{reflexive_label}}</div>
                        <div class="progress-wrapper" data-percentage="{{reflexive_percentage}}">
                            <span class="{{progress_label_class_reflexive}}" style="--bar-width: {{reflexive_percentage}}%;">{{reflexive_count}} ({{reflexive_percentage}}%)</span>
                            <div class="progress-bar-modern" style="width: {{reflexive_percentage}}%; background-color: {{color_reflexive}}; position: absolute; left: 0; top: 0; height: 100%; border-radius: 8px;"></div>
                        </div>
                    </div>

                    <div class="alert" style="background-color: #f0f8ff; border-left: 4px solid {{dominant_color}}; border-radius: 8px;">
                        <i class="fa fa-star mr-2"></i>
                        <strong>{{#str}} dominant_style, block_learning_style {{/str}}: </strong>
                        <span style="color: {{dominant_color}}; font-weight: 600;">{{dominant_style_label}} ({{dominant_percentage}}%)</span>
                    </div>

                </div>
            </div>
        </div>
        {{/dimensions}}
    </div>

    <div class="profile-summary-card card mt-5 p-4">
        <div class="d-flex align-items-center mb-4">
            <i class="fa fa-lightbulb-o mr-2" style="font-size: 2rem; color: #1567f9; margin-right: 0.5rem;"></i>
            <h4 class="mb-0 ms-3">{{#str}} learning_profile_summary, block_learning_style {{/str}}</h4>
        </div>
        
        <h5 class="mb-3 text-muted">{{#str}} characteristics, block_learning_style {{/str}}</h5>
        <ul class="list-unstyled mb-4">
            {{#profile_characteristics}}
            <li class="mb-3" style="font-size: 1.05rem;">
                <i class="fa fa-check-circle mr-2" style="color: #28a745;"></i>
                {{.}}
            </li>
            {{/profile_characteristics}}
        </ul>

        <h5 class="mb-3 text-muted">{{#str}} recommendations, block_learning_style {{/str}}</h5>
        <div class="row">
            {{#recommendations}}
            <div class="col-md-6 mb-3">
                <div class="card h-100 border-light bg-light">
                    <div class="card-body">
                        <h6 class="card-title text-primary">{{title}}</h6>
                        <p class="card-text small">{{text}}</p>
                    </div>
                </div>
            </div>
            {{/recommendations}}
        </div>
    </div>

    <div class="card mt-4" style="border-radius: 12px; overflow: hidden;">
        <div class="card-header" style="background: linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 100%) !important; color: #0054ce;">
            <i class="fa fa-database mr-2"></i>
            <h5 class="mb-0 d-inline" style="color: #0054ce !important;">{{#str}} technical_data, block_learning_style {{/str}}</h5>
        </div>
        <div class="card-body p-4">
            <div class="row">
                <!-- COLUMNA IZQUIERDA: BADGES -->
                <div class="col-lg-5 d-flex flex-column justify-content-center">
                    <h6 class="mb-3 text-center text-muted">{{#str}} scores, block_learning_style {{/str}}</h6>
                    <div class="row g-4">
                        {{#technical_data}}
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_active, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{active}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_reflexive, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{reflexive}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_sensorial, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{sensorial}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_intuitive, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{intuitive}}</span>
                        </div>
                         <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_visual, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{visual}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_verbal, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{verbal}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_sequential, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{sequential}}</span>
                        </div>
                        <div class="col-6 text-center mb-4">
                            <div style="font-weight: 600; color: #6c757d;">{{#str}} dimension_global, block_learning_style {{/str}}</div>
                            <span class="technical-badge mx-auto mt-2" style="background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{global}}</span>
                        </div>
                        {{/technical_data}}
                    </div>
                </div>

                <!-- COLUMNA DERECHA: RADAR -->
                <div class="col-lg-7 d-flex align-items-center justify-content-center border-start">
                     <div style="width: 100%; max-width: 600px;">
                        <h6 class="mb-3 text-center text-muted">{{#str}} radar_chart_title, block_learning_style {{/str}}</h6>
                        <canvas id="radarstyle"></canvas>
                     </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="mt-5 text-center d-flex gap-3 justify-content-center">
    {{#can_view_reports}}
    <a href="{{admin_view_url}}" class="btn btn-secondary mr-3">
        <i class="fa fa-arrow-left mr-2"></i>{{#str}} back_to_admin, block_learning_style {{/str}}
    </a>
    {{/can_view_reports}}
    <a href="{{course_url}}" class="btn" style="background: linear-gradient(135deg, #1567f9 0%, #0054ce 100%); border: none; color: white;">
        <i class="fa fa-home mr-2"></i>{{#str}} back_to_course, block_learning_style {{/str}}
    </a>
</div>
